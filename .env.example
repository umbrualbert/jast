# SIPp Load Testing - Environment Configuration
# Copy this file to .env and customize for your environment
#
# Usage:
#   cp .env.example .env
#   Edit .env with your values
#   docker compose up -d

#==============================================================================
# SBC (Session Border Controller) Configuration
#==============================================================================

# Target SBC IP address
SBC_IP=192.168.1.100

# Target SBC SIP port
SBC_PORT=5060

# SBC protocol (udp, tcp, tls)
SBC_PROTOCOL=udp

#==============================================================================
# UAC (User Agent Client) Configuration
#==============================================================================

# UAC local IP address (for host network mode)
UAC_IP=192.168.1.50

# UAC media port base (RTP)
UAC_MEDIA_PORT=16384

# UAC call rate (calls per second)
UAC_CPS=10

# UAC maximum concurrent calls
UAC_MAX_CALLS=100

# UAC total calls to generate
UAC_TOTAL_CALLS=1000

# UAC custom arguments (optional)
# UAC_ARGS=-sf /scens/custom.xml -r 20 -m 200 192.168.1.100:5060

#==============================================================================
# UAS (User Agent Server) Configuration
#==============================================================================

# UAS local IP address (for host network mode)
UAS_IP=192.168.1.60

# UAS SIP listening port
UAS_PORT=5060

# UAS media port base (RTP)
UAS_MEDIA_PORT=28384

# UAS custom arguments (optional)
# UAS_ARGS=-sf /scens/custom_uas.xml -p 5060 -rtp_echo

#==============================================================================
# Test Parameters
#==============================================================================

# Default call rate (CPS)
DEFAULT_CPS=10

# Default max concurrent calls
DEFAULT_MAX_CALLS=100

# Default test duration (seconds)
DEFAULT_DURATION=60

# Default call limit
DEFAULT_CALL_LIMIT=1000

#==============================================================================
# Network Configuration
#==============================================================================

# UAC network subnet (Docker bridge mode)
UAC_NETWORK_SUBNET=172.20.0.0/16
UAC_NETWORK_GATEWAY=172.20.0.1

# UAS network subnet (Docker bridge mode)
UAS_NETWORK_SUBNET=172.21.0.0/16
UAS_NETWORK_GATEWAY=172.21.0.1

#==============================================================================
# Resource Limits
#==============================================================================

# CPU limits (cores)
CPU_LIMIT=2.0
CPU_RESERVATION=1.0

# Memory limits
MEMORY_LIMIT=2G
MEMORY_RESERVATION=512M

#==============================================================================
# Logging Configuration
#==============================================================================

# Log level (minimal, normal, verbose)
LOG_LEVEL=normal

# Enable trace messages (true/false)
TRACE_MSG=false

# Enable trace errors (true/false)
TRACE_ERR=true

# Enable trace statistics (true/false)
TRACE_STAT=true

#==============================================================================
# Scenario Paths
#==============================================================================

# CSV data file for number injection
CSV_FILE=2numbers.csv

# Default UAC scenario
DEFAULT_UAC_SCENARIO=sipp_uac_basic.xml

# Default UAS scenario
DEFAULT_UAS_SCENARIO=sipp_uas_basic.xml

#==============================================================================
# Advanced Options
#==============================================================================

# SIPp timer resolution (ms)
TIMER_RESOL=1

# Max receive loops (performance tuning)
MAX_RECV_LOOPS=1000

# Max schedule loops (performance tuning)
MAX_SCHED_LOOPS=1000

# Enable RTP echo on UAS (true/false)
RTP_ECHO=true

# Media IP (for multi-homed hosts)
MEDIA_IP=

#==============================================================================
# Docker Configuration
#==============================================================================

# Docker network mode (host, bridge)
NETWORK_MODE=host

# Restart policy (no, always, on-failure, unless-stopped)
RESTART_POLICY=unless-stopped

#==============================================================================
# Monitoring
#==============================================================================

# Enable Prometheus metrics (true/false)
ENABLE_METRICS=false

# Prometheus port
PROMETHEUS_PORT=9090

# Grafana port
GRAFANA_PORT=3000

#==============================================================================
# Custom SIPp Arguments
#==============================================================================

# Additional SIPp arguments to append to all commands
CUSTOM_SIPP_ARGS=

#==============================================================================
# EXAMPLES
#==============================================================================
#
# Example 1: Basic SBC testing
#   SBC_IP=10.0.0.100
#   UAC_CPS=20
#   UAC_MAX_CALLS=500
#
# Example 2: High load testing
#   SBC_IP=10.0.0.100
#   UAC_CPS=200
#   UAC_MAX_CALLS=5000
#   UAC_TOTAL_CALLS=50000
#   CPU_LIMIT=4.0
#   MEMORY_LIMIT=4G
#
# Example 3: Long duration testing
#   SBC_IP=10.0.0.100
#   UAC_CPS=10
#   UAC_MAX_CALLS=100
#   DEFAULT_UAC_SCENARIO=17minutes_G711.xml
#
# Example 4: Registration load
#   SBC_IP=10.0.0.100
#   UAC_CPS=100
#   DEFAULT_UAC_SCENARIO=sipp_uac_register.xml
#   CSV_FILE=register_data.csv
#
